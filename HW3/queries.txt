CREATE EXTENSION postgis;

CREATE TABLE USC_COORDINATES(name varchar,geom geometry);

INSERT INTO USC_COORDINATES VALUES ('ISE Dept', 'POINT(-118.29026708987136 34.02014906126706)'),
       ('CS Dept', 'POINT(-118.28917994174948 34.01942877567757)'),
       ('EE Dept', 'POINT(-118.29014025549331 34.01968338135504)'),
       ('GF', 'POINT(-118.28323592192008 34.022224275919946)'),
       ('VF', 'POINT(-118.28901306962831 34.02054540855684)'),
       ('PFSF', 'POINT(-118.28520630526569 34.0201877824694)'),
       ('Leavey', 'POINT(-118.28290101800172 34.0218560214031)'),
       ('Doheny', 'POINT(-118.28369076097484 34.02015736987411)'),
       ('SEL', 'POINT(-118.28877779562809 34.01960300133563)'),
       ('Starbucks', 'POINT(-118.28254282201534 34.021346435532514)'),
       ('Taco Bell', 'POINT(-118.29184754657533 34.022239206993085)'),
       ('RTHCafe', 'POINT(-118.28999265704404 34.02004846137679)'),
       ('Home', 'POINT(-118.29057506261238 34.032994828061305)');

SELECT name, ST_AsText(geom) FROM USC_COORDINATES;

SELECT ST_AsText(ST_ConvexHull(ST_Collect(geom))) FROM USC_COORDINATES;

SELECT name, ST_Astext(geom) as location, ST_Distance(geom, 'POINT(-118.29057506261238 34.032994828061305)') as distance
FROM USC_COORDINATES
WHERE name<>'Home'
ORDER BY ST_Distance(geom, 'POINT(-118.29057506261238 34.032994828061305)')
LIMIT 4;